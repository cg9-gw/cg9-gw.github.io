<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="analyticstyeles.css">
        <title>baseball stats (beta)</title>
    </head>
    <body onload="requestData()"> 
        <script type="text/javascript">
            function populateTable() {
                for(let i=1;i<=10;i++) {
                    var dummyStats = document.createElement("tr")
                    for(let j=1;j<9;j++) {
                        var tdtemplate = document.createElement("td")
                        tdtemplate.setAttribute("class","default-data")
                        switch(j) {
                            case 1:
                            tdtemplate.innerText = "random name"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 2:
                            tdtemplate.innerText = "BA"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 3: 
                            tdtemplate.innerText = "H"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 4: 
                            tdtemplate.innerText = "1B"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 5: 
                            tdtemplate.innerText = "2B"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 6:
                            tdtemplate.innerText = "3B"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 7: 
                            tdtemplate.innerText = "HR"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                            case 8:
                            tdtemplate.innerText = "BB"+i.toString()
                            dummyStats.appendChild(tdtemplate)
                            break;
                        }
                    }
                    document.getElementById("stattable").appendChild(dummyStats)
                }
            }
            function requestData() {
                fetch("https://api.team-manager.gc.com/teams/572dceca-e01d-49a6-9145-749223131de6/players", {
                mode: "cors",
                "headers": {
                    "accept": "application/vnd.gc.com.player:list+json; version=0.1.0",
                    "content-type": "application/json",
                    "gc-client-token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6ImYwZDJiOTY2LTNiYWYtNDIyOS04ZmJhLTI5ODZlYzRkYzYwOCIsIm5vbmNlIjoxNjQzOTQ0Nzg3MDEzLCJqdGkiOiI2MGNkNmYyNC03YzMzLTRiZWItYTYyYi1lYTc5ODJlMDg4MzAiLCJpYXQiOjE2NDM5NDQ3ODd9.eMnobsRfkihNww0QmI6DQXIKfQ5QI2XgMnRZpXKsqb4",
                    "gc-user-action": "data_loading:team_stats",
                    "gc-user-action-id": "20169fed-6050-4dbb-9354-6a220933c17e",
                    "gc-user-token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI3NjNmNGMwMS04NDM5LTQ5M2EtOTMzOS02ZWY5M2EwMGFjZDEiLCJlbWFpbCI6InRoZXJlYWxoYXBweWdpbG1vcmVAZ21haWwuY29tIiwibm9uY2UiOjE2NDM5NDQ4MjQzMjIuNzcxNSwiaWF0IjoxNjQzOTQ0ODI0fQ.7pASqFVoreHv5dzP7ZqE5k0V3wj8Q-Z8d0LOCzZhKj4",
                }})
                .then(response => {
                    response.json()
                    .then(data => {
                        console.log(data)
                    })
                })
            }
        </script>
        <div id="mainstats">
            <table id="stattable">
                <tr id="headerrow">
                    <th class = "header-player">Player</th>
                    <th class = "default-header">BA</th>
                    <th class = "default-header">H</th>
                    <th class = "default-header">1B</th>
                    <th class = "default-header">2B</th>
                    <th class = "default-header">3B</th>
                    <th class = "default-header">HR</th>
                    <th class = "default-header">BB</th>
                </tr>
            </table>
            <input type="button" onclick="populateTable()" value="Load dummy stats">
        </div>
    </body>
</html>